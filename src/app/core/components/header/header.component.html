<header #header>
  <div #contactBadge class="contact-badge">
    <div class="content header-container">
      <ul class="networks">
        @for (network of networks; track $index) {
        <li [class]="network.name">
          <a href="{{ network.link }}" target="_blank">
            <fa-icon
              [icon]="network.icon | convertStringLabelToFontawesomeIcon"
            ></fa-icon
          ></a>
        </li>
        }
      </ul>

      <div class="contacts">
        <a class="phone">
          <fa-icon [icon]="'faPhone' | convertStringLabelToFontawesomeIcon">
          </fa-icon>
          <p>+49 179 7510920</p>
        </a>
        <a class="email">
          <fa-icon
            [icon]="'faEnvelope' | convertStringLabelToFontawesomeIcon"
          ></fa-icon>
          <p>contact&#64;ndabbikokoo.com</p>
        </a>
      </div>
    </div>
  </div>

  <div
    class="main-header"
    #navElement
    role="navigation"
    aria-label="Menu principal"
  >
    <div class="content header-container">
      <div class="logo-wrapper">
        <img
          ngSrc="/img/logo/logo-white.png"
          alt="logo de l'asociation Ndab Bikoko"
          fill
          priority
          routerLink=""
        />
      </div>

      <nav class="main-nav" role="navigation" aria-label="Menu principal">
        <ul class="nav-list">
          @for (item of menuItems; track $index) {

          <li class="nav-item" [class.has-submenu]="item.children">
            @if (item.children) {
            <button
              class="nav-link"
              (mouseenter)="onEnterMenu(item)"
              (mouseleave)="onLeaveMenu(item)"
              (mouseover)="onMenuHovered($index)"
              aria-haspopup="true"
              [attr.aria-expanded]="item.open"
            >
              {{ item.label }}
              <fa-icon
                [icon]="'faAngleDown' | convertStringLabelToFontawesomeIcon"
              >
              </fa-icon>
            </button>

            @if (item.open) {
            <div
              class="dropdown-menu"
              [class.show]="item.open"
              (mouseenter)="cancelToggleOut()"
              (mouseleave)="toggleOutSubmenu(item)"
            >
              <div class="submenus">
                <div class="content">
                  <ul class="sub-menus">
                    @for (child of item.children; track $index) {
                      <li (click)="onSelectSubMenu($index)">
                        <a [routerLink]="child.link" [class.active-sub-menu]="child.isActive">
                          <img [ngSrc]="child.image" width="35" height="35">
                          <span> {{ child.label }} </span>
                          <fa-icon
                            [icon]="'faAngleRight' | convertStringLabelToFontawesomeIcon"
                          ></fa-icon>
                        </a>
                      </li>
                    }
                  </ul>
                  <div class="sub-menu-items">
                    @switch (currentSubMenu?.id) {
                      @case (SUBMENUIDENUM.ABOUT_US) {
                        <app-about-us-header></app-about-us-header>
                      }
                      @case (SUBMENUIDENUM.ENGAGE) {
                        <app-engage-header></app-engage-header>
                      }
                      @case (SUBMENUIDENUM.ORGANIGRAM) {
                        {{SUBMENUIDENUM.ORGANIGRAM}}
                      }
                      @case (SUBMENUIDENUM.FUNCTIONNING) {
                        {{SUBMENUIDENUM.FUNCTIONNING}}
                      }
                      @case (SUBMENUIDENUM.OUR_CADRES) {
                        {{SUBMENUIDENUM.OUR_CADRES}}
                      }
                      @case (SUBMENUIDENUM.OUR_EXPERTS) {
                        {{SUBMENUIDENUM.OUR_EXPERTS}}
                      }
                      @case (SUBMENUIDENUM.AGENDA) {
                        <app-agenda-header></app-agenda-header>
                      }
                      @case (SUBMENUIDENUM.NEWS) {
                        <app-news-header></app-news-header>
                      }
                      @case (SUBMENUIDENUM.LANGUAGES) {
                        {{SUBMENUIDENUM.LANGUAGES}}
                      }

                      @case (SUBMENUIDENUM.FOOD) {
                        {{SUBMENUIDENUM.FOOD}}
                      }
                      @case (SUBMENUIDENUM.FOOD) {
                        {{SUBMENUIDENUM.FOOD}}
                      }
                      @case (SUBMENUIDENUM.FOOD) {
                        {{SUBMENUIDENUM.FOOD}}
                      }
                      @case (SUBMENUIDENUM.CONTACT_US) {
                        {{SUBMENUIDENUM.CONTACT_US}}
                      }
                      @case (SUBMENUIDENUM.WRITE_US) {
                        {{SUBMENUIDENUM.WRITE_US}}
                      }
                      @case (SUBMENUIDENUM.PROFESSIONAL) {
                        {{SUBMENUIDENUM.PROFESSIONAL}}
                      }
                    }
                  </div>
                </div>
              </div>
            </div>
            } } @else {
            <a class="nav-link" [routerLink]="item.link">
              {{ item.label }}
            </a>
            }
          </li>
          }
        </ul>
      </nav>

      <div class="auth-actions">
        <a routerLink="/login" class="login">Se connecter</a>
        <a routerLink="/register" class="register">S'inscrire</a>
      </div>
    </div>
  </div>
</header>
